<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WhatsApp Agent Dashboard - PVB Estudio Creativo</title>
    <link rel="stylesheet" href="whatsapp_dashboard.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="whatsapp-nav">
        <div class="nav-container">
            <div class="logo">
                <a href="dashboard.html">
                    <span class="logo-text">PVB</span>
                    <span class="logo-dot">‚óè</span>
                    <span class="logo-name">WHATSAPP</span>
                </a>
            </div>
            <div class="nav-stats" id="navStats">
                <div class="stat-item">
                    <span class="stat-label">Total</span>
                    <span class="stat-value" id="totalConversations">0</span>
                </div>
                <div class="stat-item unread">
                    <span class="stat-label">Unread</span>
                    <span class="stat-value" id="unreadConversations">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Open</span>
                    <span class="stat-value" id="openConversations">0</span>
                </div>
            </div>
            <div class="nav-actions">
                <button class="btn-refresh" id="refreshBtn" title="Refresh">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C11.5358 3 12.9476 3.5 14.0711 4.34315" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        <path d="M17 3V7H13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <button class="btn-settings" id="settingsBtn" title="Settings">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M10 14C12.2091 14 14 12.2091 14 10C14 7.79086 12.2091 6 10 6C7.79086 6 6 7.79086 6 10C6 12.2091 7.79086 14 10 14Z" stroke="currentColor" stroke-width="2"/>
                        <path d="M10 3V2M10 18V17M17 10H18M2 10H3M15.657 4.343L16.364 3.636M3.636 16.364L4.343 15.657M15.657 15.657L16.364 16.364M3.636 3.636L4.343 4.343" stroke="currentColor" stroke-width="2"/>
                    </svg>
                </button>
                <button class="btn-back" id="backBtn" title="Back to Dashboard">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M13 3L7 10L13 17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="whatsapp-container">
        <!-- Conversations List -->
        <aside class="conversations-sidebar">
            <div class="sidebar-header">
                <h2>Conversations</h2>
                <div class="filter-buttons">
                    <button class="filter-btn active" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="unread">Unread</button>
                    <button class="filter-btn" data-filter="assigned">Assigned</button>
                </div>
            </div>
            <div class="conversations-list" id="conversationsList">
                <!-- Conversations will be loaded here -->
                <div class="loading-state">Loading conversations...</div>
            </div>
        </aside>

        <!-- Chat Area -->
        <main class="chat-area">
            <div class="chat-empty" id="chatEmpty">
                <div class="empty-icon">
                    <svg width="80" height="80" viewBox="0 0 32 32" fill="none">
                        <path d="M16 2C8.268 2 2 8.268 2 16c0 2.479.649 4.911 1.88 7.069L2 30l7.191-1.838A13.953 13.953 0 0016 30c7.732 0 14-6.268 14-14S23.732 2 16 2z" fill="#25D366" opacity="0.2"/>
                        <path d="M22.784 19.064c-.374-.188-2.214-1.092-2.556-1.217-.342-.126-.591-.188-.84.188-.249.375-.966 1.217-1.185 1.467-.218.249-.436.281-.81.094-.375-.188-1.581-.583-3.011-1.858-1.113-.992-1.865-2.217-2.083-2.592-.218-.374-.023-.577.164-.764.169-.168.374-.437.562-.656.187-.218.249-.374.374-.624.125-.249.062-.468-.031-.656-.094-.187-.84-2.024-1.151-2.773-.303-.729-.61-.63-.84-.641-.218-.01-.467-.013-.716-.013s-.654.094-1 .468c-.343.375-1.31 1.28-1.31 3.118 0 1.837 1.341 3.612 1.529 3.861.187.25 2.646 4.037 6.41 5.659.896.386 1.595.616 2.14.789.899.286 1.719.246 2.366.149.722-.108 2.214-.905 2.525-1.779.312-.874.312-1.623.218-1.779-.093-.156-.343-.25-.717-.437z" fill="#25D366"/>
                    </svg>
                </div>
                <h3>Select a conversation</h3>
                <p>Choose a conversation from the list to start messaging</p>
            </div>

            <!-- Chat Header -->
            <div class="chat-header" id="chatHeader" style="display: none;">
                <div class="chat-contact-info">
                    <div class="contact-avatar">
                        <svg width="40" height="40" viewBox="0 0 32 32" fill="none">
                            <circle cx="16" cy="16" r="15" fill="#25D366"/>
                            <path d="M22.784 19.064c-.374-.188-2.214-1.092-2.556-1.217-.342-.126-.591-.188-.84.188-.249.375-.966 1.217-1.185 1.467-.218.249-.436.281-.81.094-.375-.188-1.581-.583-3.011-1.858-1.113-.992-1.865-2.217-2.083-2.592-.218-.374-.023-.577.164-.764.169-.168.374-.437.562-.656.187-.218.249-.374.374-.624.125-.249.062-.468-.031-.656-.094-.187-.84-2.024-1.151-2.773-.303-.729-.61-.63-.84-.641-.218-.01-.467-.013-.716-.013s-.654.094-1 .468c-.343.375-1.31 1.28-1.31 3.118 0 1.837 1.341 3.612 1.529 3.861.187.25 2.646 4.037 6.41 5.659.896.386 1.595.616 2.14.789.899.286 1.719.246 2.366.149.722-.108 2.214-.905 2.525-1.779.312-.874.312-1.623.218-1.779-.093-.156-.343-.25-.717-.437z" fill="white"/>
                        </svg>
                    </div>
                    <div class="contact-details">
                        <h3 id="contactName">Contact Name</h3>
                        <p id="contactPhone">+56 9 4432 8662</p>
                    </div>
                </div>
                <div class="chat-actions">
                    <button class="action-btn" id="assignBtn" title="Assign to agent">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M10 10C12.7614 10 15 7.76142 15 5C15 2.23858 12.7614 0 10 0C7.23858 0 5 2.23858 5 5C5 7.76142 7.23858 10 10 10Z" stroke="currentColor" stroke-width="2"/>
                            <path d="M10 12C5.58172 12 2 14.6863 2 18V20H18V18C18 14.6863 14.4183 12 10 12Z" stroke="currentColor" stroke-width="2"/>
                        </svg>
                    </button>
                    <button class="action-btn" id="markReadBtn" title="Mark as read">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M2 10L7 15L18 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Messages Area -->
            <div class="messages-container" id="messagesContainer" style="display: none;">
                <div class="messages-list" id="messagesList">
                    <!-- Messages will be loaded here -->
                </div>
            </div>

            <!-- Message Input -->
            <div class="message-input-container" id="messageInputContainer" style="display: none;">
                <div class="message-input-wrapper">
                    <textarea 
                        id="messageInput" 
                        class="message-input" 
                        placeholder="Type a message..."
                        rows="1"
                    ></textarea>
                    <button class="send-button" id="sendButton" title="Send message">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M22 2L11 13M22 2L15 22L11 13M22 2L2 9L11 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
        </main>
    </div>

    <script src="whatsapp_dashboard.js"></script>
</body>
</html>

